{"version":3,"sources":["../../../src/server/node-environment-extensions/global-behaviors.tsx"],"sourcesContent":["/**\n * Unlike most files in the node-environment-extensions folder this one is not\n * an extension itself but it exposes a function to install config based global\n * behaviors that should be loaded whenever a Node Server or Node Worker are created.\n */\nimport type { NextConfigComplete } from '../config-shared'\nimport { InvariantError } from '../../shared/lib/invariant-error'\n\nimport { setAbortedLogsStyle } from './console-dim.external'\n\nexport function installGlobalBehaviors(config: NextConfigComplete) {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    throw new InvariantError(\n      'Expected not to install Node.js global behaviors in the edge runtime.'\n    )\n  }\n\n  if (config.experimental?.hideLogsAfterAbort === true) {\n    setAbortedLogsStyle('hidden')\n  } else {\n    setAbortedLogsStyle('dimmed')\n  }\n}\n"],"names":["InvariantError","setAbortedLogsStyle","installGlobalBehaviors","config","process","env","NEXT_RUNTIME","experimental","hideLogsAfterAbort"],"mappings":"AAAA;;;;CAIC,GAED,SAASA,cAAc,QAAQ,mCAAkC;AAEjE,SAASC,mBAAmB,QAAQ,yBAAwB;AAE5D,OAAO,SAASC,uBAAuBC,MAA0B;QAO3DA;IANJ,IAAIC,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;QACvC,MAAM,qBAEL,CAFK,IAAIN,eACR,0EADI,qBAAA;mBAAA;wBAAA;0BAAA;QAEN;IACF;IAEA,IAAIG,EAAAA,uBAAAA,OAAOI,YAAY,qBAAnBJ,qBAAqBK,kBAAkB,MAAK,MAAM;QACpDP,oBAAoB;IACtB,OAAO;QACLA,oBAAoB;IACtB;AACF","ignoreList":[0]}