{"version":3,"sources":["../../../src/client/dev/on-demand-entries-client.ts"],"sourcesContent":["import Router from '../router'\nimport { sendMessage } from './hot-reloader/pages/websocket'\n\nexport default async () => {\n  // Never send pings when using Turbopack as it's not used.\n  // Pings were originally used to keep track of active routes in on-demand-entries with webpack.\n  if (process.env.TURBOPACK) {\n    return\n  }\n\n  Router.ready(() => {\n    setInterval(() => {\n      // when notFound: true is returned we should use the notFoundPage\n      // as the Router.pathname will point to the 404 page but we want\n      // to ping the source page that returned notFound: true instead\n      const notFoundSrcPage = self.__NEXT_DATA__.notFoundSrcPage\n      const pathname =\n        (Router.pathname === '/404' || Router.pathname === '/_error') &&\n        notFoundSrcPage\n          ? notFoundSrcPage\n          : Router.pathname\n\n      sendMessage(JSON.stringify({ event: 'ping', page: pathname }))\n    }, 2500)\n  })\n}\n"],"names":["Router","sendMessage","process","env","TURBOPACK","ready","setInterval","notFoundSrcPage","self","__NEXT_DATA__","pathname","JSON","stringify","event","page"],"mappings":"AAAA,OAAOA,YAAY,YAAW;AAC9B,SAASC,WAAW,QAAQ,iCAAgC;AAE5D,eAAe,CAAA;IACb,0DAA0D;IAC1D,+FAA+F;IAC/F,IAAIC,QAAQC,GAAG,CAACC,SAAS,EAAE;QACzB;IACF;IAEAJ,OAAOK,KAAK,CAAC;QACXC,YAAY;YACV,iEAAiE;YACjE,gEAAgE;YAChE,+DAA+D;YAC/D,MAAMC,kBAAkBC,KAAKC,aAAa,CAACF,eAAe;YAC1D,MAAMG,WACJ,AAACV,CAAAA,OAAOU,QAAQ,KAAK,UAAUV,OAAOU,QAAQ,KAAK,SAAQ,KAC3DH,kBACIA,kBACAP,OAAOU,QAAQ;YAErBT,YAAYU,KAAKC,SAAS,CAAC;gBAAEC,OAAO;gBAAQC,MAAMJ;YAAS;QAC7D,GAAG;IACL;AACF,CAAA,EAAC","ignoreList":[0]}